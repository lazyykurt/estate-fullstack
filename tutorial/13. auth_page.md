# 路由守卫，保护未登录的页面

profile 页面，需要有登录信息，才能访问。如何实现？

1. 需要 Auth 的页面，创建一个 RequireAuth 的过滤器，具体操作如下

```js
function RequireAuth() {
  const { currentUser } = useContext(AuthContext);

  if (!currentUser) return <Navigate to="/login" />;
  else {
    return (
      <div className="layout">
        <div className="navbar">
          <Navbar />
        </div>
        <div className="content">
          <Outlet />
        </div>
      </div>
    );
  }
}
```

当 currentUser 存在时，才能够进入到该页面，否则跳转到登录页面，

我们将需要 Auth 的页面添加到该过滤器中

在 App 的 createBrowserRouter 中添加：

```js
{
  path: "/",
  element: <RequireAuth />,
  children: [
    {
      path: "/profile",
      element: <ProfilePage />,
    }
  ],
}
```
