# 修改用户信息

1. 设计 user api，用于修改用户信息

```js
// 在route 中添加：
router.put("/:id", verifyToken, updateUser);

// 在 controller 中添加：
// 1. 得到参数中的 id
// 2. 获取 验证token 这一中间件中的 userId
const id = req.params.id;
const tokenUserId = req.userId;
// 3. 确认一致，进行操作，有密码，先对密码加密，再把req.body中的信息，更新到数据库。
const { password, avatar, ...inputs } = req.body;
if (password) {
  updatedPassword = await bcrypt.hash(password, 10);
}
const updatedUser = await prisma.user.update({
  where: { id },
  data: {
    ...inputs,
    ...(updatedPassword && { password: updatedPassword }),
    ...(avatar && { avatar }),
  },
});
```
